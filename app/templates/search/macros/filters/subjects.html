{% from 'components/button/macro.html' import tnaButton %}
{% from 'components/checkboxes/macro.html' import tnaCheckboxes %}

{% macro subjects(request, subjects_field, number_of_subjects_to_show=10) %}
  <div class="tna-aside tna-aside--tight tna-background-tint tna-!--margin-top-s">
    {{ tnaCheckboxes({
      'label': 'Subjects',
      'headingLevel': 3,
      'headingSize': 'm',
      'id': 'subjects',
      'name': subjects_field.name,
      'items': subjects_field.items[:number_of_subjects_to_show],
      'small': True,
      'attributes': {
        'form': 'search-form'
      }
    }) }}
    <div class="tna-button-group tna-button-group--small tna-!--margin-top-s">
      {{ tnaButton({
        'text': 'Update',
        'buttonElement': True,
        'buttonType': 'submit',
        'attributes': {
          'form': 'search-form'
        }
      }) }}

      {% if subjects_field.items | length > number_of_subjects_to_show %}
        {{ tnaButton({
          'text': 'See more subjects',
          'href': '?' + qs_replace_value(request.GET, 'filter_list', 'subjects'),
          'plain': True,
          'small': True
        }) }}
      {% endif %}
    </div>
  </div>
{% endmacro %}